{% extends 'base.html' %}

{%block css%}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
<link href="{{ url_for('static', filename='css/main.css') }}" rel="stylesheet">
<link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
<script src="https://code.iconify.design/iconify-icon/1.0.2/iconify-icon.min.js"></script>

{%endblock%}

{%block title%} Code_Bug ~ Add posts {%endblock%}

{%block snippets%}

<!-- enabling syntax hughlight in snippet -->
<link href="ckeditor/plugins/codesnippet/lib/highlight/styles/default.css" rel="stylesheet">

{%endblock%}

{% block content %}

<style>	
	p, h1,h2,h3,h4,h5,h6{
		font-weight:300;
	}
	body {
		background: #2d2d2d;
	}
	pre {
		color: darkgray;
	}
	.bg-body {
		background-color: #f7f7f7!important;
		/* background: linear-gradient( #9FA4C4, #B3CDD1); */
	}
	p,h1,h2,h3,h4,h5,h6,small,li {
		color:aliceblue;
	}
	pre code.hljs {
    font-size: larger;
    }
	
</style>

<br/><br/><br/><br/>

<div class="container">

{% if current_user.is_authenticated %}

{% for message in get_flashed_messages() %}
	<div class="alert alert-warning alert-dismissible fade show" role="alert">
	{{ message }}
	<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
	</div>
{% endfor %}

<br/>

{% if current_user.id == 1 %}
 
<center>
	<h1 class="wrapper"style="font-weight: normal;
	font-size: 2em;">
	Add Blog Post..</h1>
</center>
<br/>
<div class="transition3 shadow p-3 mb-5 bg-body rounded ">
	<form method="POST">
		{{ form.hidden_tag() }}

		{{ form.title.label(class="form-label") }}

		{{ form.title(class="form-control") }}
		<br/>

		{{ form.category.label(class="form-label") }}

		{{ form.category(class="form-control") }}
		<br/>

		{{ form.content.label(class="form-label") }}

		{{ form.content(class="form-control", rows="10") }}
		<br/>
		{{ form.submit(class="btn btn-secondary") }}

	</form>
    {{ ckeditor.load(pkg_type="full-all") }}
    {{ ckeditor.config(name='content') }}
	
</div>

{% else %}

<br/><br/>
<h3>You're Not Admin...</h3>
<p>Sorry, You must be Admin to access this page!</p>

<h4>If you are interested in learning with me and post content here...</h4>
You must meet the following requirements!
<br/>
Basic/mediocare Programming knowledge <br/> 
And a validation towards no abuse of the website in any case
<br/>
Well, if you are up for the deal, <a href="/#contact">Contact me here...</a> 

<center>
<lottie-player src="https://assets5.lottiefiles.com/packages/lf20_edzccurz.json"  background="transparent"  speed="1"  style="width: 400px; height: 400px;"  loop  autoplay></lottie-player>
</center>

{% endif %}

{% else %}

<h4>You must be logged-in and have admin permisions to access this page!</h4>
<a href="{{ url_for('login') }}"><h6>Login Here</h6></a>
<center>
<lottie-player src="https://assets5.lottiefiles.com/packages/lf20_edzccurz.json"  background="transparent"  speed="1"  style="width: 500px; height: 500px;"  loop  autoplay></lottie-player>
</center>

{% endif %}

<script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
<br/><br/><br/><br/>

</div>
<!-- Copyright Section-->
<footer class="footer copyright py-4 text-center text-white bg-dark">
	<div class="container"><small>Copyright &copy; Code_Bug 2022-2023</small></div>
</footer>
{% endblock %}

{% block footer %}
	
{% endblock %}