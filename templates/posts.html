{% extends 'base.html' %}

{%block css%}  

<link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet">

{%endblock%}

{%block title%} Code_Bug ~ Posts {%endblock%}

{%block snippets%}

<!-- enabling syntax hughlight in snippet on Targeted Page-->
<link rel="stylesheet"href="//unpkg.com/@highlightjs/cdn-assets@11.6.0/styles/default.min.css">
<script src="//unpkg.com/@highlightjs/cdn-assets@11.6.0/highlight.min.js"></script>
<!--Inititalize highlight.js-->
<script>hljs.initHighlightingOnLoad();</script>
<!--Loading theme on page-->
{{ ckeditor.load_code_theme() }}

{%endblock%}

{% block content %}
<style>
	.hljs-variable, .hljs-params, .hljs-class .hljs-title {
		color: violet;
	}
	.hljs-string, .css .hljs-id, .hljs-subst, .haskell .hljs-type, .ruby .hljs-class .hljs-parent, .hljs-built_in, .sql .hljs-aggregate, .django .hljs-template_tag, .django .hljs-variable, .smalltalk .hljs-class, .django .hljs-filter .hljs-argument, .smalltalk .hljs-localvars, .smalltalk .hljs-array, .hljs-attr_selector, .hljs-pseudo, .hljs-addition, .hljs-stream, .hljs-envvar, .apache .hljs-tag, .apache .hljs-cbracket, .tex .hljs-command, .hljs-prompt, .hljs-link_label, .hljs-link_url {
		color: brown;
	}
</style>
<br/>
<div>
	<a class="btn btn-primary float-start"style="outline:none;" href="{{prev}}">&larr; Previous</a>
	<a class="btn btn-primary float-end" href="{{next}}">Next &rarr;</a>
</div>
<br/><br/><br/><br/>
{% for post in posts %}
  <div class="shadow p-4 mb-5 bg-body rounded">
	<div>
	<h2 ><a style="text-decoration: none;font-size:1.4rem; font-weight:300;"href="{{ url_for('post', id=post.id)}}">{{ post.title }}</a></h2>
	<small style="font-weight:300; font-family: 'Basetica Light',sans-serif;font-size: 12px;letter-spacing: 0.48px;line-height: 16px;color: rgb(104, 104, 104);">
	<!-- By: {{ post.poster.name }}<br/> -->
	 {{ post.category }} |
	 {{ post.date_posted }}
	</small> 
	<br/>
		
	<p><h6 style="font-weight:300; 
		font-family: 'Basetica Light',sans-serif;
		font-size: 16px;
		letter-spacing: 0.48px;
		line-height: 24px;
		color: rgb(30, 30, 30);
		font-style: normal;">

	{%if post.content[0:500] < post.content%}

	{{ post.content[0:500]|safe }} <a href="{{ url_for('post', id=post.id)}}" style= "text-decoration:none;color:pink;">see more...</a>

	{%else%}

	{{ post.content|safe }}

	{% endif %}

	</h6></p>
	</div>
	<div>
	<a href="{{ url_for('post', id=post.id)}}" class="btn btn-outline-dark btn-sm" >View Post</a>

	{% if  current_user.id == 1 %}	
	<a href="{{ url_for('edit_post', id=post.id)}}" class="btn btn-outline-warning btn-sm">Edit Post</a>	
	{% endif %}
	
	</div>
  </div>
 
{% endfor %}

<br/><br/>
<!-- Pager-->

<div>
	<a class="btn btn-primary float-start" href="{{prev}}">&larr; Previous</a>
	<a class="btn btn-primary float-end" href="{{next}}">Next &rarr;</a>
</div>

<br/><br/><br/><br/><br/>
{% endblock %}

{% block footer %}
	
{% endblock %}