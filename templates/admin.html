{% extends 'base.html' %}

{%block css%}  
<link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet">
{%endblock%}

{%block title%} Code_Bug ~ Admin Panel {%endblock%}

{% block content %}
<style>
    h3,h2,h1{
        font-weight: 400;
    }
</style>
<br/> <br/><br/><br/><br/>

<center><h2><u>Admin Panel</u></h2><br/>

<h3> Post HIstory </h3></center>	
<br/>

<table class="table">
    <thead class="table-dark">
        <tr>    
        <th scope="col">Title</th>
        <th scope="col">Category</th>
        <th scope="col" class="text-align-center">On</th>
        <th scope="col">By</th>
        <th scope="col">View</th>
        <th scope="col">Edit</th>
        <th scope="col">Delete</th>
        </tr>
    </thead>
    <tbody>
    {% for post in posts %}
    
    <tr class="table-light">	
		<td>{{ post.title }}</td>
		<td>{{ post.category }}</td>
        <td>{{ post.date_posted }}</td>	 
        <td>{{ post.poster.name }}</td> 
	    <td><a href="{{ url_for('post', id=post.id)}}" class="btn btn-outline-success btn-sm">View</a></td>
	    
        {% if current_user.id == 8 %}
	    <td><a href="{{ url_for('edit_post', id=post.id)}}" class="btn btn-outline-warning btn-sm">Edit</a></td>
	    <td><a href="{{ url_for('delete_post', id=post.id)}}" class="btn btn-outline-danger btn-sm">Delete</a></td>	
        {% endif %}	
    </tr>

    {% endfor %}
    <tbody>
</table>


<br/><br/><br/>
<center><h3> Users List</h3></center>
<br/>

<table class="table">
    <thead class="table-dark">
    <tr>    
    <th scope="col">Id</th>
    <th scope="col">Name</th>
    <th scope="col">Username</th>
    <th scope="col">Handle</th>
    <th scope="col">Delete</th>
    </tr>
    </thead>
    <tbody>
    {% for our_user in our_users %}
	<tr class="table-light">
        <td class="table-light">{{ our_user.id }} </td>
        <td> {{ our_user.name }}</td>
        <td> {{our_user.username }} </td>
        <td> {{ our_user.email }} </td>
        <td> <a href="{{ url_for('delete', id=our_user.id)}}"><button class = "btn btn-outline-danger btn-sm">Delete</button></a> </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
 
{% endblock %}
<br/><br/><br/><br/>

{% block footer %}
<footer class="transition5 footer text-center bg-light">
    <div class="container ">
        <div class="transition5 row">
            <!-- Footer Location-->
            <div class="col-lg-4 mb-5 mb-lg-0">
                <h4 class="text-dark text-uppercase mb-4">Location</h4>
                <p class="lead mb-0 text-dark">
                    India - MAharasthra
                    <br />
                    Street-Not telling you..
                </p>
            </div>
            <!-- Footer Social Icons-->
            <div class="transition5 col-lg-4 mb-5 mb-lg-0">
                <h4 class="text-uppercase text-dark mb-4">Around the Web</h4>
                <a class="btn btn-outline-dark btn-social mx-1 " href="#!"><i class="fab fa-fw fa-facebook-f"></i></a>
                <a class="btn btn-outline-dark btn-social mx-1 " href="#!"><i class="fab fa-fw fa-twitter"></i></a>
                <a class="btn btn-outline-dark btn-social mx-1 " href="#!"><i class="fab fa-fw fa-linkedin-in"></i></a>
                <a class="btn btn-outline-dark btn-social mx-1 " href="#!"><i class="fab fa-fw fa-dribbble"></i></a>
            </div>
            <!-- Footer About Text-->
            <div class="transition5 col-lg-4">
                <h4 class="text-uppercase text-dark mb-4">About Code_Bug</h4>
                <p class="lead mb-0 text-dark">
                    Code_Bug is a free programming website for learners to code and understand concepts!           
                </p>
            </div>
        </div>
    </div>
  </footer>
 
{% endblock %}

{% block scripts %}
           <!-- JavaScript! -->
     <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
        
{%endblock%}